<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="/atom.xml" title="Programio" type="application/atom+xml"><link rel="icon" href="/images/favicon.png"><title>Hexo.io: skutečný next-gen blogovací systém - Programio</title><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro"><link rel="stylesheet" href="/css/main.css" type="text/css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--></head><body><header class="head"><h1 class="head-title u-fl"> <a href="/">Programio</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/" class="head-nav__link">Domů</a></li><li class="head-nav__item"><a href="/archives" class="head-nav__link">Archiv</a></li><li class="head-nav__item"><a href="http://www.havrlant.cz/" class="head-nav__link">O autorovi</a></li><li class="head-nav__item"><a href="/rss.xml" class="head-nav__link">RSS</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time datetime="2014-09-10T18:22:13.000Z" class="post__time">10. 9. 2014</time><h1 class="post__title"><a href="/hexoio/">Hexo.io: skutečný next-gen blogovací systém</a></h1></header><div class="post__main echo"><p>Uječené třináctky posílají animované gify na Tumblr, salónní intelektuálové blogují na Respektu, SEO guru českého webu používá <del>nejhorší blogovací systém na světě</del> blogger.com a opravdoví programátoři neblogují, ale od rána do večera kompilují linuxové jádro. Zůstává otázka: jaký blogovací systém bych měl použít pro takové to domácí blogování o programátorských záležitostech?</p>
<h2 id="popis-a-instalace">Popis a Instalace</h2>
<p>Představím vám skvělý nástroj, který jsem nedávno objevil, a to <a href="http://hexo.io" target="_blank" rel="external">Hexo.io</a>. Hexo je generátor statických stránek. Ano, opravdu – <strong>statických</strong> stránek. Žádná databáze, žádné PHP, jen čisté HTML. Zkrátka je to <em>so 1999!</em> Jak Hexo funguje?</p>
<p>Začneme instalací. Hexo.io je napsaný v Node.JS, pokud ho nemáte nainstalovaný, <a href="http://nodejs.org" target="_blank" rel="external">učiňte tak</a>. (<code>brew install nodejs</code>…)</p>
<p>Spolu s Node.JS máte k dispozici balíčkovací systém <code>npm</code>. Pokud ho neznáte, tak si o něm možná něco v rychlosti přečtěte, ať tušíte, co to zhruba dělá. My použijeme <code>npm</code> k nainstalování Hexo.io:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g</span><br></pre></td></tr></table></figure>
<p>A to je vše, Hexo.io je úspěšně nainstalované. V terminálu pak běžte do složky, ve které chcete založit nový blog a napište:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init nazev-blogu&#10;cd nazev-blogu&#10;npm install&#10;hexo server</span><br></pre></td></tr></table></figure>
<p>Pokud vám program odpoví nějak takto, je vše v pořádku:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[info] Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>
<p>Přejděte v prohlížeči na adresu <a href="http://localhost:4000/" class="uri" target="_blank" rel="external">http://localhost:4000/</a> a uvidíte svůj nový blog. Veškeré nastavení se nachází v souboru <code>/_config.yml</code>, projděte si ho a nastavte si, co jak chcete. Hlavně si tam nastavte URL, na které bude blog běžet a pak název blogu, popisek apod. Já jsem si tam přenastavil permalinky na</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">permalink: :title/</span><br></pre></td></tr></table></figure>
<p>což znamená, že URL všech článků se budou generovat pouze z titulku, nebude se tam vkládat datum.</p>
<p>Veškeré další terminálové příkazy, které zde budou uvedeny, předpokládají, že se je spouštíte ze složky, ve které je nainstalovaný váš blog.</p>
<h2 id="vytváření-a-editace-článků">Vytváření a editace článků</h2>
<p>Napište v terminálu:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &#34;N&#225;zev &#269;l&#225;nku&#34;</span><br></pre></td></tr></table></figure>
<p>Tento příkaz vytvoří ve složce <code>/source/_posts/</code> soubor <code>Nazev-clanku.md</code>. Ten normálně editujte a napište si do něj co chcete s využitím <a href="http://daringfireball.net/projects/markdown/" target="_blank" rel="external">Markdown syntaxe</a>. Po každém uložení se celý blog přegeneruje, což si můžete zkontrolovat v prohlížeči na adrese http://localhost:4000/Nazev-clanku/. Příkaz <code>hexo new ...</code> ani nemusíte používat, stačí zkrátka vytvořit ve složce <code>/source/_posts/</code> nějaký <code>soubor.md</code> a to je celé. Systém ho automaticky rozpozná a přidá do výpisu článků. Základní struktura článku, kterou byste měli dodržet, vypadá takto:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">title: &#34;Hexo.io: blogovac&#237; syst&#233;m pro 21. stolet&#237;&#34;&#10;tags:&#10;- hexo&#10;---&#10;&#10;Uje&#269;en&#233; t&#345;in&#225;ctky pos&#237;laj&#237; animovan&#233; gify na Tumblr...</span><br></pre></td></tr></table></figure>
<p>Celý workflow půjde pravděpodobně nastavit tak, aby se prohlížeč aktualizoval s každou změnou vygenerovaného HTML souboru, ale to už nechám na vás.</p>
<p>Hexo podporuje i rozepsané články, které se nevydají. Pokud chcete takový draft vytvořit, použijte příkaz</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new draft &#34;N&#225;zev &#269;l&#225;nku&#34;</span><br></pre></td></tr></table></figure>
<p>nebo vytvořte soubor ve složce <code>/source/_drafts</code>. Pokud nyní budete chtít vidět drafty i ve výpisu článků na svém localhostu, musíte spustit server příkazem <code>hexo server --drafts</code>. Když spustíte server bez <code>--drafts</code>, uvidíte web zase bez draftů (i když možná ještě předtím budete potřebovat <code>hexo clean</code>, který pročistí cache). Když budete chtít draft vydat, napište</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish &#34;N&#225;zev &#269;l&#225;nku&#34;</span><br></pre></td></tr></table></figure>
<p>Hexo přesune článek z <code>/source/_drafts</code> do <code>/source/_posts</code> a přidá informaci o aktuálním čase. Pokud se ale soubor s článkem jmenuje jinak než samotný článek, musíte příkaz <code>publish</code> zavolat právě s názvem souboru. Například tento článek jsem vydal příkazem</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish hexoio</span><br></pre></td></tr></table></figure>
<p>protože soubor, ve kterém je uložený článek, se jmenuje <code>hexoio.md</code>. Z názvu souboru se pak generuje URL.</p>
<p>Při každé změně zdrojového souboru se přegeneruje kompletně celý web, například i <code>index.html</code>, kam se přidá odkaz na nový článek atp.</p>
<h2 id="generování-statických-souborů"> Generování statických souborů</h2>
<p>Samotný běžící server neukládá statické HTML soubory na disk. Pokud je chcete uložit, použijte příkaz</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br></pre></td></tr></table></figure>
<p>To vytvoří složku <code>/public</code> a uloží do ní všechny potřebné soubory pro vykreslení stránky. Můžete si normálně otevřít soubor <code>/public/index.html</code> v prohlížeči a uvidíte svůj blog (možná budou blbnout odkazy, protože Hexo předpokládá, že ty soubory otevřete v rootu na serveru, ne přes <code>file:///</code>). Tyto soubory si pak můžete nahrát někam na své FTP. Ale s tímhle ještě počkejte, v příštím článku si ukážeme, jak řešit deploy (nahrání na web) efektivněji.</p>
<h2 id="jak-měnit-vzhled">Jak měnit vzhled</h2>
<p>Máte dvě a půl možností: stáhnout si jinou již existující šablonu nebo si napsat vlastní (nebo upravit nějakou stávající).</p>
<p>Na webu existuje <a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="external">seznam šablon</a>, které můžete pro svůj blog použít. Instalace je jednoduchá: najděte si šablonu, která se vám líbí, třeba <a href="https://github.com/unmric/hexo-theme-strict" target="_blank" rel="external">tuto</a>. Na té stránce naleznete sekci <strong>Install</strong> a podle té se řiďte. Typicky překopírujete jeden až dva příkazy do terminálu a pak musíte editovat <code>/_config.yml</code> a vepsat tam, kterou šablonu chcete používat:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: strict</span><br></pre></td></tr></table></figure>
<p>Šablona se stáhne do složky <code>/themes</code>, pokud ji chcete upravit, tak ji upravte tam.</p>
<h2 id="rss">RSS</h2>
<p>Hexo standardně negeneruje RSS. Pokud ho chcete, použijte k tomu plugin <a href="https://github.com/hexojs/hexo-generator-feed" target="_blank" rel="external">hexo-generator-feed</a>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed</span><br></pre></td></tr></table></figure>
<p>A do configu přidejte:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">feed:&#10;  type: rss2&#10;  path: rss.xml &#10;  limit: 10</span><br></pre></td></tr></table></figure>
<p>A někam přidejte odkaz na <code>/rss.xml</code>. To je celé. Při generování souborů se automaticky vygeneruje i RSS soubor.</p>
<h2 id="komentáře">Komentáře</h2>
<p>Jak dostat do statického blogu komentáře? V minulém století to asi šlo těžko, ale teď už jde díky službám typu <a href="https://disqus.com" target="_blank" rel="external">disqus</a> snadno. V configu vyplňte položku</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">disqus_shortname: vasnazev</span><br></pre></td></tr></table></figure>
<p>a to je vše.</p>
<h2 id="pluginy">Pluginy</h2>
<p>Hexo nabízí hromadu nějakých plugin a dalších udělátek. Můžete tak třeba <a href="http://hexo.io/docs/tag-plugins.html#Youtube" target="_blank" rel="external">jednoduchým příkazem vložit YouTube video</a> nebo <a href="http://hexo.io/docs/helpers.html#gravatar" target="_blank" rel="external">Gravarat ikonu</a>.</p>
<h2 id="výhody-použití-hexo.io">Výhody použití Hexo.io</h2>
<p>Zkusím sepsat pár bodů, díky kterým se mi Hexo.io líbí:</p>
<ul>
<li>Celý blog mám nainstalovaný lokálně, takže články můžu psát na svém počítači, klidně bez internetu a stále uvidím plnou verzi blogu.</li>
<li>Na psaní článků můžu použít libovolný oblíbený editor (nesnáším WYSIWYG editory), článek se mi přitom automaticky aktualizuje.</li>
<li>Kdyby mi náhodou Hexo přestal vyhovovat, <a href="http://hexo.io/docs/migration.html" target="_blank" rel="external">můžu velmi snadno migrovat někam jinam</a>.</li>
<li>Nulové nároky na hosting a úžasně jednoduchý způsob nahrání blogu na web. Tento blog ve skutečnosti běží na <a href="https://pages.github.com" target="_blank" rel="external">GitHub Pages</a>, takže nejen, že nepotřebujete PHP/MySQL, nepotřebujete ani to FTP. Deploy je řešen běžným commitem&amp;pushem na GitHub. Jak dostat Hexo blog pohodlně na web vám povykládám v <a href="/deploy-hexoio/">příštím díle</a>.</li>
</ul>
<p>…ale hlavně jsem chtěl zkusit něco nového – navíc kdo může říct, že bloguje podobně, jako se blogovalo před patnácti lety? Pokud by se vám líbila myšlenka, ale nelíbilo provedení, tak můžete zkusit starý dobrý <a href="http://jekyllrb.com" target="_blank" rel="external">Jekyll</a>. Hexo mi ale celkově přišlo víc elegantnější a víc propracovanější.</p>
<h2 id="nevýhody-použití-hexo.io">Nevýhody použití Hexo.io</h2>
<p>Jsem si jistý, že vás během čtení článků napadlo tak milion nevýhod, takže se sám jejich výčtem ani nebudu zdržovat :-)</p>
<div class="relatedBox"><div class="relatedArticlesBox"><h2 id="relatedArticles">Související články:</h2><ol><li><a href="/deploy-hexoio/">Hexo.io: nahrání blogu na web</a></li><li><a href="/jak-pracovat-s-obrazky-v-hexoio/">Jak pracovat s obrázky a statickými soubory v hexo.io</a></li></ol></div></div><div class="articleTags"><strong><a href="/tags/hexo">#hexo</a></strong></div></div></article><div style="text-align: right"><div class="fb-like" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true" style="margin-top: 10px; height: 30px"></div></div><div class="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/tags/hexo/" class="post__tag__link">hexo</a></li></ul><a href="/hexoio/#disqus_thread" class="post__foot-link u-fr">Komentáře</a></footer></main><footer class="foot"><div class="foot-copy u-fl"><a href="/">Programio</a> píše <a href="http://www.havrlant.cz/">Lukáš Havrlant</a></div><menu class="page-menu u-fr"><li class="page-menu__item"><a title="Previous" href="/deploy-hexoio/" class="page-menu__link icon-arrow-left"></a></li><li class="page-menu__item"><a title="Next" href="/programio-zacina/" class="page-menu__link icon-arrow-right"></a></li></menu></footer><script>(function(h,g,l,k,j,i){j=h.createElement(g),i=h.getElementsByTagName(g)[0],
j.src="//"+l+".disqus.com/"+k+".js",i.parentNode.insertBefore(j,i)})
(document,"script","programio","embed");
</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-1559810-13');ga('send','pageview');
</script><div id="fb-root"></div><script>(function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) return;
js = d.createElement(s); js.id = id;
js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=166268190106534&version=v2.0";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script></body></html>